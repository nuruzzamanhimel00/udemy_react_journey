{"ast":null,"code":"var _jsxFileName = \"E:\\\\laragon\\\\www\\\\udemy_react_journey\\\\14_https_rquest\\\\src\\\\App.js\";\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport MoviesList from \"./components/MoviesList\";\nimport \"./App.css\";\nimport axios from \"axios\";\nimport moment from \"moment\";\nimport AddMovie from \"./components/AddMovie.js\";\nimport TokenGenerate from \"./components/TokenGenerate.js\";\nimport AddContextProvider from \"./store/AddContextProvider.js\";\nfunction App() {\n  const [moviesApi, setMoviesApi] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const fetchMovieHandler = useCallback(async () => {\n    setIsLoading(true);\n    setError(\"\");\n    //errors\n\n    try {\n      const response = await fetch(\"http://127.0.0.1:8000/api/get-all-post\");\n      // console.log(response);\n      if (response.status !== 200) {\n        throw new Error(\"Something is wrong\");\n      }\n      const data = await response.json();\n      data.data.forEach(d => {\n        d.releaseDate = moment(d.created_at).format(\"MMM Do YY\");\n        d.openingText = d.description;\n        // console.log(d);\n      });\n      // console.log(data.data);\n\n      setMoviesApi([...data.data]);\n      setIsLoading(false);\n      // console.log(data);\n    } catch (error) {\n      setError(error.message);\n      // Code to handle the error\n      console.log(\"An error occurred:\", error.message);\n    } finally {\n      // Optional finally block\n      // Code here will always execute regardless of whether an error occurred or not\n    }\n\n    //aync await\n    // const response = await fetch(\"https://jsonplaceholder.typicode.com/posts\");\n    // const data = await response.json();\n    // data.forEach((d) => {\n    //   d.releaseDate = moment().format(\"MMM Do YY\");\n    //   d.openingText = d.body;\n    // });\n    // setMoviesApi([...data]);\n    // setIsLoading(false);\n    // console.log(data);\n    //fetch:-\n    // fetch(\"https://jsonplaceholder.typicode.com/posts\")\n    //   .then((response) => {\n    //     return response.json();\n    //   })\n    //   .then((data) => {\n    // data.forEach((d) => {\n    //   d.releaseDate = moment().format(\"MMM Do YY\");\n    //   d.openingText = d.body;\n    // });\n    // setMoviesApi([...data]);\n    // console.log(data);\n    //   });\n    //axios:-\n    // axios\n    //   .get(\"https://jsonplaceholder.typicode.com/posts\")\n    //   .then((response) => {\n    //     // handle success\n    //     //current date set in array object\n    // response.data.forEach((d) => {\n    //   d.releaseDate = moment().format(\"MMM Do YY\");\n    //   d.openingText = d.body;\n    // });\n    //     setMoviesApi([...response.data]);\n    //     console.log(response);\n    //   })\n    //   .catch((error) => {\n    //     // handle error\n    //     console.log(error);\n    //   })\n    //   .finally(() => {\n    //     // always executed\n    //   });\n  }, []);\n  useEffect(() => {\n    console.log(\"user effert\");\n    fetchMovieHandler();\n  }, [fetchMovieHandler]);\n  return /*#__PURE__*/React.createElement(AddContextProvider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"section\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(TokenGenerate, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"section\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(AddMovie, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"section\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: fetchMovieHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }\n  }, \"Fetch Movies\")), /*#__PURE__*/React.createElement(\"section\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }\n  }, !isLoading && /*#__PURE__*/React.createElement(MoviesList, {\n    movies: moviesApi,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 24\n    }\n  }), isLoading && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 23\n    }\n  }, \"Loading...\"), error && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 19\n    }\n  }, error)));\n}\nexport default App;","map":{"version":3,"names":["React","useState","useEffect","useCallback","MoviesList","axios","moment","AddMovie","TokenGenerate","AddContextProvider","App","moviesApi","setMoviesApi","isLoading","setIsLoading","error","setError","fetchMovieHandler","response","fetch","status","Error","data","json","forEach","d","releaseDate","created_at","format","openingText","description","message","console","log","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onClick","movies"],"sources":["E:/laragon/www/udemy_react_journey/14_https_rquest/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\n\nimport MoviesList from \"./components/MoviesList\";\nimport \"./App.css\";\nimport axios from \"axios\";\nimport moment from \"moment\";\nimport AddMovie from \"./components/AddMovie.js\";\nimport TokenGenerate from \"./components/TokenGenerate.js\";\nimport AddContextProvider from \"./store/AddContextProvider.js\";\n\nfunction App() {\n  const [moviesApi, setMoviesApi] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  const fetchMovieHandler = useCallback(async () => {\n    setIsLoading(true);\n    setError(\"\");\n    //errors\n\n    try {\n      const response = await fetch(\"http://127.0.0.1:8000/api/get-all-post\");\n      // console.log(response);\n      if (response.status !== 200) {\n        throw new Error(\"Something is wrong\");\n      }\n      const data = await response.json();\n\n      data.data.forEach((d) => {\n        d.releaseDate = moment(d.created_at).format(\"MMM Do YY\");\n        d.openingText = d.description;\n        // console.log(d);\n      });\n      // console.log(data.data);\n\n      setMoviesApi([...data.data]);\n      setIsLoading(false);\n      // console.log(data);\n    } catch (error) {\n      setError(error.message);\n      // Code to handle the error\n      console.log(\"An error occurred:\", error.message);\n    } finally {\n      // Optional finally block\n      // Code here will always execute regardless of whether an error occurred or not\n    }\n\n    //aync await\n    // const response = await fetch(\"https://jsonplaceholder.typicode.com/posts\");\n    // const data = await response.json();\n    // data.forEach((d) => {\n    //   d.releaseDate = moment().format(\"MMM Do YY\");\n    //   d.openingText = d.body;\n    // });\n    // setMoviesApi([...data]);\n    // setIsLoading(false);\n    // console.log(data);\n    //fetch:-\n    // fetch(\"https://jsonplaceholder.typicode.com/posts\")\n    //   .then((response) => {\n    //     return response.json();\n    //   })\n    //   .then((data) => {\n    // data.forEach((d) => {\n    //   d.releaseDate = moment().format(\"MMM Do YY\");\n    //   d.openingText = d.body;\n    // });\n    // setMoviesApi([...data]);\n    // console.log(data);\n    //   });\n    //axios:-\n    // axios\n    //   .get(\"https://jsonplaceholder.typicode.com/posts\")\n    //   .then((response) => {\n    //     // handle success\n    //     //current date set in array object\n    // response.data.forEach((d) => {\n    //   d.releaseDate = moment().format(\"MMM Do YY\");\n    //   d.openingText = d.body;\n    // });\n    //     setMoviesApi([...response.data]);\n    //     console.log(response);\n    //   })\n    //   .catch((error) => {\n    //     // handle error\n    //     console.log(error);\n    //   })\n    //   .finally(() => {\n    //     // always executed\n    //   });\n  }, []);\n\n  useEffect(() => {\n    console.log(\"user effert\");\n    fetchMovieHandler();\n  }, [fetchMovieHandler]);\n\n  return (\n    <AddContextProvider>\n      <section>\n        <TokenGenerate />\n      </section>\n      <section>\n        <AddMovie />\n      </section>\n      <section>\n        <button onClick={fetchMovieHandler}>Fetch Movies</button>\n      </section>\n      <section>\n        {!isLoading && <MoviesList movies={moviesApi} />}\n        {isLoading && <p>Loading...</p>}\n        {error && <p>{error}</p>}\n      </section>\n    </AddContextProvider>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}